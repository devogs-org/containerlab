name: sr-linux

mgmt:
  network: sr-linux-mgmt
  ipv4-subnet: 10.16.2.0/24

topology:
  kinds:
    nokia_srlinux:
      image: ghcr.io/nokia/srlinux:latest
      type: ixr-d1 
      cpu: 1
      
  nodes:
    spine1:
      kind: nokia_srlinux
      cpu-set: "0" 
      mgmt-ipv4: 10.16.2.11 
      
    spine2:
      kind: nokia_srlinux
      cpu-set: "1" 
      mgmt-ipv4: 10.16.2.12 

    leaf1:
      kind: nokia_srlinux
      cpu-set: "2"
      mgmt-ipv4: 10.16.2.21

    leaf2:
      kind: nokia_srlinux
      cpu-set: "3"
      mgmt-ipv4: 10.16.2.22

    leaf3:
      kind: nokia_srlinux
      cpu-set: "4"
      mgmt-ipv4: 10.16.2.23

  links:
    - endpoints: ["spine1:ethernet-1/1/1", "leaf1:ethernet-1/1/1"] 
    # spine1 (Port 2) <-> leaf2 (Port 1)
    - endpoints: ["spine1:ethernet-1/1/2", "leaf2:ethernet-1/1/1"] 
    # spine1 (Port 3) <-> leaf3 (Port 1)
    - endpoints: ["spine1:ethernet-1/1/3", "leaf3:ethernet-1/1/1"] 

    # --- Spine 2 Links (FIXED: using ethernet-1/1/X format) ---
    # spine2 (Port 1) <-> leaf1 (Port 2)
    - endpoints: ["spine2:ethernet-1/1/1", "leaf1:ethernet-1/1/2"] 
    # spine2 (Port 2) <-> leaf2 (Port 2)
    - endpoints: ["spine2:ethernet-1/1/2", "leaf2:ethernet-1/1/2"] 
    # spine2 (Port 3) <-> leaf3 (Port 2)
    - endpoints: ["spine2:ethernet-1/1/3", "leaf3:ethernet-1/1/2"]